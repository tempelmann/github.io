---
layout: post
title: Copying all your data from your old to your new Mac, fast and painless
date: '2017-04-11T09:28:00.000+01:00'
author: Thomas Tempelmann
tags: 
modified_time: '2017-04-11T09:28:48.645+01:00'
blogger_id: tag:blogger.com,1999:blog-8797526579651167122.post-5945125204335805754
blogger_orig_url: https://blog.tempel.org/2017/04/copying-all-your-data-from-your-old-to.html
---

If you've been using a Mac for a while and then gotten yourself a new, more powerful, Mac, you probably want to move your previous data and applications as painlessly as possible to the new Mac.<br /><br />I'm going to show you how.<br /><br />I'm also revealing some recent performance issues with certain Macs and Apple software.<br /><br />Note: If you prefer to start over with a fresh macOS installation, then this article is not for you.<br /><h3>Migrating your old Mac's disk contents to your new Mac</h3>There are two methods: Either you follow Apple's path of starting with a fresh macOS installation, and then have it copy your files over (which employs Apple's <i>Migration Assistant</i>, or you simply copy every bit of your old Mac's disk onto your new Mac's disk.<br /><br />Each method has its disadvantages:<br /><h4>Apple's guided path (using <i>Migration Assistant</i>, started during Setup):</h4>• Finder Aliases may break (mainly if you've moved or renamed the targeted items since you created Aliases of them).<br />• More software may need to be re-installed, or at least re-registered than with the other method.<br />• Some low level modifications you may have made to the system may not migrate over.<br />• Fairly slow, due to individual files being copied.<br /><h4>Copying the entire partition or disk:</h4>• Care must be taken not to confuse which system is copied from and which is copied to, or all data may be lost (it's always good to have a backup on a separate disk before you start going down this path).<br />• Requires more steps.<br />• Can be more complicated.<br />• To be fast, commands have to be typed into Terminal – unless you are using OS X 10.10.x or earlier (even on an extra partition), or have a 3rd computer that you can use to perform the transfer.<br /><h3>Prerequisites</h3><b>You need a Firewire or Thunderbolt cable</b>, depending on your type of Mac, so that you can&nbsp;connect one Mac's disk via <a href="https://support.apple.com/en-us/HT201462" target="_blank">Target Disk Mode</a> to the other Mac.<br /><br /><b>The new Mac must be able to run the OS version from the old Mac</b> (after all, you''ll be copying the entire startup disk, including its system, to the new Mac). You can easily test this beforehand: Coonect the old Mac in <a href="https://support.apple.com/en-us/HT201462" target="_blank">Target Disk Mode</a>&nbsp;to your new Mac and then&nbsp;<a href="https://support.apple.com/en-us/HT202796" target="_blank">boot&nbsp;the new Mac from it</a>. If it starts up as if you're start up your old Mac, you're good.<br /><h3>The quick and easy method, as it should be working</h3>You'll basically just go through these steps, and that's been working like this for many years:<br /><ul><li>Start up one Mac in Target Disk Mode and connect both Macs so that one appears as a disk on the other Mac.</li><li>Restart the other Mac from an OS X system that is neither your old Mac's nor your new Macs's main system. On modern Macs, that could be the <a href="https://support.apple.com/en-us/HT201314" target="_blank">Recovery system</a>, which you get into by holding cmd+R when restarting your Mac.</li><li>Launch Disk Utility.</li><li>Use Disk Utility's Restore operation to copy your old Mac's partition to the new Mac's "Macintosh HD" partition.</li><li>This should only take about an hour if you're using Thunderbolt, or a few hours with a Firewire connection.</li><li>Once the Restore process is finished, you can restart your new Mac and it should start up with a perfect copy of your old Mac's system and data.</li></ul>Alas, it usually doesn't that way. At least not any more. Up to OS X 10.10.x, this was working just fine, mostly.<br /><br />But with 10.11, Apple introduced a new Disk Utility (<i>DU</i>) applications, and it&nbsp;<a href="https://www.google.com/search?q=new+Disk+Utility+sucks"><span id="goog_1041512366"></span>just sucks<span id="goog_1041512367"></span></a>.<br /><br />And one of its screw-ups is that it performs the Restore operation in a very slow manner. I found that the new DU is neatly ten times slower than the old DU. It's a simple programming error on Apple's behalf, and they could easily fix it. Maybe they even will one day. So far, public complaints about the shortcomings in the new DU seem to have fallen on deaf ears at Apple, though (apart from them bringing back RAID support in Sierra).<br /><br /><br />While doing tests with the new DU, I ran into many issues. Some of them were happening while having started from the 10.11 Recovery system, others I experienced even in a normal 10.11.5 or 10.12.3 system:<br />- Opening the partioning window on a disk that has a non-resizable volume (e.g. because it has a non-journaling HFS+ or a Bootcamp, i.e. Windows, volume) leads to a modal dialog that appears BEHIND the DU window, and which tells me to cancel the Partition operation and enable journaling (which isn't possible with a Windows volume) to proceed. This warning is nonsense because if I plan to remove that non-resizable volume, then it should not matter if it's journaled or not.<br />- Same problem when trying to Restore to a non-journaling volume: It aborts and I'm told the volume can't be resized despite it being overwritten anyway.<br />- Resizing a HFS+&nbsp;volume to a smaller size (from 970 GB to 900 GB) appears to have worked, but it turns out nothing changed. Solution: Use old DU or Terminal command ("diskutil resizeVolume ...").<br />- Using the "Enable Journaling" menu command on a non-journaled HFS+ volume&nbsp;seemingly had no effect (solution: Reboot or relaunch DU). Actually, the problem was that the volume was already using journaling, but some other previous action leads DU to believe it's non-journaling.<br />- After using Restore with a Bootcamp volume, the restored volume did not appear in the list any more (solution: Relaunch DU).<br />- Mounting an encrypted volume doesn't work - the "Mount" button remains disabled (solution: Open Terminal and use "diskutil coreStorage" commands).<br />- Restoring FROM an encrypted volume doesn't work - it should ask me for my password and then make it available.<br />- Restoring from another disk's partition to a partition that's large enough leads to the error "<br />- Restoring to a partition that's too small but has unused enough space past it, does not work ("Not enough space on ... to restore") if there's a Recovery partition right after the small volume. The old DU was able to move the Recovery partition away, but the new one doesn't. (Solution: Open Terminal and use "diskutil resizeVolume /dev/disk<i>N</i>s<i>M</i> R"<br />- (DU 15.0) - When restoring from an encrypted volume, you can choose it, but when starting to copy, it'll error with "can't read from /dev/null". Solution: Use File -&gt; Unlock... first, or if that's not available, use Terminal "diskutil cs unlockVolume ...".<br /><br />Tests on 10.11.6 with Macs connected via Thunderbolt:<br />- Make Disk Img (DU 15.0) from volume is fast, both in full and recovery (10.11.5) system<br /><br />DU 15.0 does not offer a Cancel button when Restoring or creating a Disk Image.<br /><br /><br /><br />Once started up, you<br />&nbsp;You need to run from a system that is not affected by the<br />&nbsp;-&gt; Copy using Disk Utlility by booting from a different system (either from a different partition, a 3rd Mac or the Restore system via cmd+R at boot).<br /><br />If disk is using CoreStorage, then use Terminal cmd "diskutil coreStorage revert" on the virtual disk first. Also, if it was encrypted, decrypt it beforehand (from System Preferences, Security panel). Or copy from the virtual partition only.<br /><br />When using dd, must prevent sleep (in new Terminal window: pmset noidle)<br /><br />All disks may be called "Macintosh HD", so check which ones are external vs. internal.<br /><br />Use diskutil unmountDisk diskN<br />Use rdisk, not disk.<br /><br />Afterwards, the partition size needs to be adjusted. That may not work with the new (since 10.11) Disk Utility (at least, enlarting a partition that is immediately followed by the Recovery partition and free space after that, new DU won't be able to move the Recovery partition, prevening the enlargement. Old DU can do it, still).<br /><br />Beware: When booting into the Recovery system, US-English keyboard may be in use even if one is usually using a different locale.<br /><br />+++ Still needs testing: Can I copy partition into larger part and then fix its size afterwards with new DU?<br /><br />+++ see https://derflounder.wordpress.com/2017/03/03/resizing-a-virtual-machines-boot-drive-to-use-all-available-space/ -&gt;&nbsp;<i>diskutil resizeVolume / R</i><br /><br />