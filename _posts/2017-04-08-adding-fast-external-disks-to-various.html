---
layout: post
title: Adding fast external disks to various Mac models, with benchmarks
date: '2017-04-08T16:44:00.002+01:00'
author: Thomas Tempelmann
tags: 
modified_time: '2017-04-18T10:11:34.421+01:00'
thumbnail: https://4.bp.blogspot.com/-quNPneC-m00/WOjqlr07WMI/AAAAAAAACqI/vOsMS05RuPMUGzPeDa22juczraRJSx7tgCK4B/s72-c/Screen%2BShot%2B2017-04-08%2Bat%2B15.49.09.png
blogger_id: tag:blogger.com,1999:blog-8797526579651167122.post-5286023528720700518
blogger_orig_url: https://blog.tempel.org/2017/04/adding-fast-external-disks-to-various.html
---

<span style="font-family: inherit; font-size: xx-small;"><span style="font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13.199999809265137px;"><i style="background-color: #cccccc;">2nd Update on 9 Apr 17: See end of article</i></span></span><br /><div><div style="-webkit-text-stroke-width: 0px; color: black; font-family: -webkit-standard; font-variant-caps: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"></div><i style="background-color: #cccccc; font-family: arial, tahoma, helvetica, freesans, sans-serif; font-size: 13.199999809265137px;">3rd Update on 18 Apr 17: Added more adapters</i></div><div><br />I wanted a fast external disk for my three Macs, which are now all 5 years or more old:</div><ul><li><span style="font-family: inherit;"><b>MacBook Pro</b> Mid 2012 ("MacBookPro10,1"), 2.6</span>&nbsp;GHz Core i7</li><li><span style="font-family: inherit;"><b>iMac 27"</b> Mid 2011 ("iMac12,1"), 3.4 GHz Core i7</span></li><li><span style="font-family: inherit;"><b>Mac Pro</b> Late 2008 ("</span>MacPro3,1<span style="font-family: inherit;">"), 8 Core-Xeon 2.8 GHz</span></li></ul><br /><span style="font-family: inherit;">The Mac Pro has no Thunderbolt ports but I've installed a <a href="http://www.frescologic.com/products_show.php?ms=2&amp;ps=11">USB 3.0 PCI card</a>&nbsp;from&nbsp;</span>Inateck.<br /><span style="font-family: inherit;"><br /></span><span style="font-family: inherit;">The iMac has Thunderbolt but only USB 2 built-in. I've added USB 3.0 support with the <a href="https://www.elgato.com/en/dock/thunderbolt-2">Elgato Thunderbolt 2 Dock</a>&nbsp;(230 €).</span><br /><span style="font-family: inherit;"><br /></span>I was interested to find out whether I should just go with a cheap USB 3 disk enclosure or use a significantly more expensive Thunderbolt enclosure.<br /><br /><b><i>The short answer is: If you have USB 3 ports on your Mac(s), you'll be fine with a USB 3 enclosure from a performance standpoint. But you won't get TRIM support, which is especially important if you plan to use the SSD as a faster boot volume - in that case, I recommend Thunderbolt instead.</i></b><br /><br /><span style="font-family: inherit;">For testing, I was using a new&nbsp;<span style="background-color: white;">SanDisk Ultra II SSD 960GB (SATA III). I connected it to these adapters / enclosures:</span></span><br /><br /><ul><li><span style="font-family: inherit;"><a href="http://www.delock.com/produkte/G_42510/merkmale.html?setLanguage=en">Delock 42510 Thunderbolt</a> enclosure (device is&nbsp;</span><span style="background-color: white;">named 42490 on the TB bus), 110 €. Requires Thunderbolt cable, 35 €.</span></li><li><a href="http://www.delock.com/produkte/G_42486/merkmale.html?setLanguage=en"><span style="font-family: inherit;">Delock&nbsp;</span>42486&nbsp;</a><span style="font-family: inherit;"><a href="http://www.delock.com/produkte/G_42486/merkmale.html?setLanguage=en">USB 3</a> enclosure, as well as another USB 3 SATA II adapter (they give similar results), 17 €.</span></li><li><span style="font-family: inherit;">ICY BOX USB 3.1 SATA III enclosure (<a href="http://www.raidsonic.de/en/standards/searchresults.php?we_objectID=3380">RaidSonic IB-234-U31a</a>), 23 €.</span></li><li><span style="font-family: inherit;"><a href="https://www.amazon.de/Teorder-Adapter-Universal-Serial-Konverter/dp/B01LZAEQ80">Teorder SATA USB 3 adapter with UASP</a>, 12 €.</span></li><li><span style="font-family: inherit;"><a href="https://www.amazon.de/gp/product/B014VBF6FM/">AKiTiO Thunder SATA Go Adapter 1x Thunderbolt</a>, 125 €. Includes&nbsp;</span><span style="background-color: white;">Thunderbolt cable.</span></li><li><a href="https://www.amazon.de/dp/B01ESQZG6Y/"><span style="background-color: white;">Inateck SATA III to USB 3.0 with&nbsp;</span><span style="background-color: white;">UASP</span></a>, 9 €.</li></ul><br /><div><span style="font-family: inherit;">Note: Even though the&nbsp;</span>ICY BOX supports USB 3.1, which allows up to 10 Gbit/s, it connects to my Macs only at USB 3.0 speeds (5 Gbit/s) as they do not support 3.1. The provided USB cables are compatible with these Macs' "standard" USB ports.</div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;">The Thunderbolt enclosure by Delock&nbsp;<i>requires</i> an external power supply, and the AKiTiO comes with a second cable that needs to be plugged into a regular USB port to provide power to the disk. The USB&nbsp;</span>adapters, on the other hand,<span style="font-family: inherit;">&nbsp;do not have nor provide an extra power supply - they pull all the needed power for the disk from the USB port they're connected to.</span><br /><span style="font-family: inherit;"><br /></span></div><h3>Test Procedures</h3><div><br />The testing was done in various ways, but I always only attempted to figure out the maximum possible transfer speed, such as for copying large single and unfragmented files, as that's the main use case for me (I often transfer entire disks, sector by sector, to another disk, e.g. for migration to a newer Mac, data analysis or quick backups).</div><div><br /></div><div>For testing read performance, the easiest way is to use the <b><i>dd</i></b>&nbsp;command in Terminal.app:</div><div><br /></div><div><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">sudo dd if=/dev/rdisk<b>N</b> of=/dev/null bs=512000</span></div><div><br /></div><div><b>N</b> has to be replaced by the disk number, which can be learned by using this command:</div><div><br /></div><div><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">diskutil list</span></div><div><br /></div><div>Note that this command lists the disk names with the leading "r", but when doing the test, the "r" is important for best speed results.</div><div><br /></div><div>Write performance testing is a bit more difficult, because you need some data to copy from. You could use a file or another disk, but then you get a result that also involves the reading speed from the other disk. If that disk is an internal SSD, this may not affect the overall result too much, but in my case, it would, at least on the Mac Pro, despite having installed a Samsung SSD 850 EVO 1TB on a <a href="https://www.apricorn.com/upgrades/vel-solo-x1">Velocity Solo x1</a>&nbsp;PCI card with a SATA III socket.</div><div><br /></div><div>Copying with <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">dd</span> from <span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">/dev/zero</span>&nbsp;may be a valid method for hard disks, but is not entirely honest for SSDs, as that would indeed test the transfer speed over the USB or TB bus, but since SSDs treat empty sectors specially, by not writing them to their flash memory, that would be cheating. I wanted to measure the true effective write speed, and therefore I'd need to write random (non-zero) data.</div><div><br /></div><div>Copying from&nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">/dev/randon</span>&nbsp;is no solution either, because generating the random data is very slow. I ended up getting unrealistic write speeds around 10 MB/s.</div><div><br /></div><div>Being the author of a versatile disk editor, <a href="http://apps.tempel.org/iBored/">iBored</a>, I have instead added a feature to it: Random data is generated once in memory, and then written repeatedly to disk, to consecutive sectors. That gives me realistic results that also correlated fairly well to copying from&nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">/dev/zero</span>&nbsp;(i.e. it's a bit slower as expected). The version I used has not been officially released yet, but it's the 1.2b5 in the <a href="http://files.tempel.org/iBored">downloads</a>. The Read/Write Speed Test commands are found in the Disk menu. If you try them yourself, be aware that this tool is not fool-proof. If you accidentally choose the wrong disk, and you could erase your precious files! So, be careful and always have an external backup, just in case.</div><div><br /></div><div>Due to&nbsp;<a href="http://www.anandtech.com/show/8520/sandisk-ultra-ii-240gb-ssd-review">caching done by the SSD</a>, I also had to make sure to write a large amount of data, to avoid reading and writing just through the faster cache.<br /><br /></div><h3>Performance Test Results</h3><div><br /><a href="http://4.bp.blogspot.com/-quNPneC-m00/WOjqlr07WMI/AAAAAAAACqI/vOsMS05RuPMUGzPeDa22juczraRJSx7tgCK4B/s1600/Screen%2BShot%2B2017-04-08%2Bat%2B15.49.09.png" imageanchor="1"><img border="0" height="362" src="https://4.bp.blogspot.com/-quNPneC-m00/WOjqlr07WMI/AAAAAAAACqI/vOsMS05RuPMUGzPeDa22juczraRJSx7tgCK4B/s640/Screen%2BShot%2B2017-04-08%2Bat%2B15.49.09.png" width="640" /></a></div><div><br /></div>The graphic does not include the Enateck, Teorder and AKiTiO adapters, as I got them later. The Teorder performed similarly to the Delock 42486, and the AKiTiO similarly to the Delock 42510. The Inateck is about 15 MB/s faster than the ICY BOX on the MacBook (didn't test on the other Macs, yet).<br /><br />I also made a test on a PC with USB 3 ports, using iBored again. There, read speed was 240 MB/s with the Delock 42486 and the other USB3-SATA II adapter, and 320 MB/s with the ICY BOX. Write speed was only getting to 150 MB/s, though. That's odd, but a test with a regular Windows benchmark tool showed similar results.<br /><br /><h3></h3><h3>Observations</h3><div><br /></div><div><ul><li>The USB 3 performance with the Thunderbolt Dock is not as good as with the&nbsp;built-in&nbsp;USB 3 port on the MacBook Pro. That's not a weakness of the Dock, though, as far as I can tell, but a weakness of the iMac. I suspect its memory bus isn't up to it. When I connected the Dock to the MacBook Pro and then connected the ICY BOX to the Dock's USB 3 port instead of the MacBook Pro's port, I read at 330 MB/s and wrote at 300 MB/s, which is much closer to the built-in USB port.</li><li>The Delock 42486 USB 3 and the Teorder adapters are mislabelled in my opinion. Both supposedly support SATA III (i.e.&nbsp;6Gbit/s) but perform like a SATA II (3Gbit/s) adapter.</li><li>My&nbsp;&nbsp;Delock 42486&nbsp;has a problem reporting incorrect power needs over USB, often just 24mA, when it needs 10 times or more, and that causes intermittend problems with some Macs but not with others. Delock support has not been helpful resolving this, insisting that it's not their fault, not even offering a replacement. This problem did not affect the performance testing, though.</li><li>The Thunderbolt adapters perform about as well or better as a good USB 3 adapter.</li><li>All the USB adapters have trouble reporting disk information such as name and serial number. While most&nbsp;at least report most of the disk's name ("Ultra II 960GB"), the ICY BOX only reports "ICY BOX" for any disk attached to it, the Inateck even just "2115". Only the Thunderbolt adapters are able to report the complete name ("Sandisk Ultra II 960GB") and the SDD's Serial Number to the Mac. These limitations with the USB adapters are minor, though, and will not affect performance or usability.</li><li>The Macs are also unable to report <a href="https://en.wikipedia.org/wiki/S.M.A.R.T.">S.M.A.R.T. status</a> for disks attached via USB - that's a <a href="http://openradar.appspot.com/radar?id=6139242778460160">known limitation</a> of OS X / macOS. Again, with Thunderbolt there is no such issue.</li><li><a href="https://en.wikipedia.org/wiki/USB_Attached_SCSI">UASP</a> support may or may not be having a positive effect on performance. Obviously, the Teorder adapter, claiming UASP support, does not perform well at all. OTOH, the Inateck adapter is slightly faster than the&nbsp;ICY BOX, which may be due to UASP.</li></ul><div><br /></div><div><h3></h3><h3>Conclusions</h3></div><h4></h4><br /><b>If you have a Mac that supports USB 3, there's hardly a need for the Delock Thunderbolt adapter.</b><br /><br /></div><div>The disadvantages of the Thunderbolt adapter (much higher price and having to use an extra power supply) have no advantages I can see.</div><div><br /></div><div>The only exception I can think of is when you use disk in with that requires more power than USB 3 can supply. Though, my MacBook Pro, in System Profiler, under USB, tells me it can supply 1800mA, while the ICY BOX adapter with the SSD installed only requests 224mA.<br /><br />It remains to be seen if faster disks (i.e. SSDs) are able to provide even more throughput, and if that would give the Thunderbolt adapter an advantage. However, I believe that SATA III, which is used by all three adapters as the interface to the disk, is the bottleneck here, though there is still a bit of room to fill that out (nominally, SATA III can transmit about 500 MB/s, and suppedly the SanDisk SSD can achieve that, but I have currently no way to verify this).<br /><br /><b>(9 Apr 17) After considering TRIM support, I've changed my mind on this:</b> The lack of TRIM support in the tested USB 3 makes them not well suited for external SSDs as a Thunderbolt adapter that invariably supports TRIM. See below for more details.</div><div><br /><b>If you have a Mac without USB 3 but with Thunderbolt, you still have two choices:</b><br /><b><br /></b></div><div><ul><li>Either purchase a AKiTiO Thunderbolt adapter&nbsp;at about 125 € (as of 12 April 2017 at Amazon). That's probably the cheapest option in the short run.</li><li>Or get the <a href="https://www.elgato.com/en/dock/thunderbolt-2"><b>Thunderbolt 2 Dock from Elgato</b></a>&nbsp;at about twice the price, plus a cheap USB 3 enclosure for your disk. The Dock has the advantage that it equippes your Mac not only with three USB 3 ports but also with an HDMI port to connect a second monitor, an easier-to-access Audio port (which apparently is also higher-quality than that of some Macs) and even a microphone port. It is more bulky and requires a power supply, too (and here it makes actual sense). That leaves you with a slightly worse performance than with the Thunderbolt case, but therefore your external disk can be used even in older Macs that have no Thunderbolt, and even in regular PCs.</li></ul><div><br /></div><b>1. Update on 9 Apr 17:</b></div><div><br /></div><div><a href="https://twitter.com/felix_schwarz">@felix_schwarz</a> pointed out to me that there's an advanced protocol for external disks called <a href="https://en.wikipedia.org/wiki/USB_Attached_SCSI">UAS</a> (aka UASP). UAS can provide better performance USB (and, according to AKiTiO, apparently also over Thunderbolt), and Mac OS X supports UAS since 10.8, according to WP.<br /><br />Of the adapters I tried, some claim UASP support, others do not. The results are inconclusive, as one adapter with UASP (Teorder) was very slow, whereas the one with it (Inateck) was slightly faster than the one without claiming UASP support (ICY BOX).<br /><br /></div><div>I just learned that AKiTiO makes various Thunderbolt products of interest. There is a&nbsp;<a href="https://www.akitio.com/adapters/thunder2-dock">Thunderbolt Dock</a> with USB 3 ports as well as an&nbsp;<a href="https://www.akitio.com/portable-storage/thundergo">External Thunderbolt + USB&nbsp;SSD</a>&nbsp;that supports UASP. AKiTiO claims that this gives over 500 MB/s effective read speed with their 1TB SSD model, though their benchmark makes me wonder why the effective write speed is below 200 MB/s. Maybe they're using an older type of SSD that is not up to it.&nbsp;The&nbsp;<a href="https://www.akitio.com/portable-storage/neutrino-thunderbolt-edition">Neutrino model</a>&nbsp;seems to be better in this regard, but it does not offer a 1 TB SDD version.&nbsp;Also, the price is quite high compared to the setups I described above, although actual prices seem to be significantly lower that the given MSRP. If you need maximum performance, these SSDs may still be worth considering. (Update 18 Apr 17: I've now received and tested the&nbsp;<a href="https://www.amazon.de/gp/product/B014VBF6FM/">AKiTiO Thunder SATA Go Adapter</a>, see above).<br /><br /><b>2. Update on 9 Apr 17:</b><br /><br />I had so far overlooked one important property that affects SSDs: <a href="https://en.wikipedia.org/wiki/Trim_(computing)">Trim</a>&nbsp;support.<br /><br />It turns out that the tested USB 3 adapters provide no TRIM support. It's unclear why that is - I suspect that it's simply lack of support for it in OS X, similar to the missing S.M.A.R.T. support.<br /><br /><b>Missing TRIM support can will quickly lead to performance degradation of the installed SSDs.</b><br /><br />If you only use hard disks with these adapters, that won't matter, but for SSDs, especially if they're used frequently for adding and deleting files, TRIM support is fairly significant to the performance. However, <b>if the SSD is mainly used as a permanent backup device, e.g. as a Time Machine backup destination, TRIM support is not that important</b>, even if files get replaced by TM once the disk is full.<br /><br /><b>Only the Thunderbolt adapters support TRIM</b>. I've verified this by first checking in System Profiler whether the disk is even listed as "TRIM Support: Yes", and then by using the technique described in this <a href="https://arstechnica.com/apple/2015/09/os-x-10-11-el-capitan-the-ars-technica-review/10/">Ars Technica article</a>.<br /><br />This realization inverts my earlier recommendation: Of the tested adapters, <b>the ones with Thunderbolt are the best choice if you want lasting optimal performance, especially if you plan to boot from it regularly</b> (which is a scenario for iMacs with only a HD installed, to speed up their system with the permanently connected SSD that'll host the system software). Of course, that still requires that you enable system-wide TRIM support in OS X / macOS, e.g. by using the "trimforce" command as explained in the Ars Technica article.<br /><br /><br /><br /><span style="font-size: x-small;">There is even an awkward work-around for missing TRIM support, in case you decide to go with an SSD and USB 3 regardless: Regularly fill the free space on the disk with a file that just contains zeros, and then delete the file again, as that'll tell the SSD that this space is actually unused, and should make the disk perform better again for a while. This can be done using iBored (menu <i>Tools</i>, <i>Erase Unused Disk Space...</i>) or with this Terminal command:</span><br /><span style="font-size: x-small;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace; font-size: x-small;">cp /dev/zero "/Volumes/YourSSDsName"</span><br /><span style="font-size: x-small;"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: inherit;">Once the copy has finished, filling up the entire disk, delete the file again:</span></span><br /><span style="font-size: x-small;"><span style="font-family: inherit;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">rm "/Volumes/YourSSDsName/zero"</span></span><br /><span style="font-size: x-small;"><br /></span><span style="font-size: x-small;">(Update 18 Apr 17): BTW, I now learned how to issue the TRIM command (only for supporting adapters, i.e. Thunderbolt) and will soon add this feature to my disk tool <a href="http://apps.tempel.org/iBored/">iBored</a>.</span><br /><br /></div>